(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},42:function(e,t,a){e.exports=a(68)},53:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),o=a.n(c),s=a(3),i=a.n(s),l=a(8),u=a(7),m=(a(28),a(29),a(30),a(32)),p=a.n(m);a(53);var d=function(e){return e.trigger?r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup-inner"},r.a.createElement("button",{className:"close-btn",onClick:function(){return e.setTrigger(!1)}},r.a.createElement(p.a,null)),e.children)):""},f=a(22),h=a(15);var b=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],o=a[1],s=Object(f.a)(),m=s.register,p=s.handleSubmit,b=function(){var t=Object(l.a)(i.a.mark(function t(a){var n,r,c,o,s,l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.bookName,r=a.description,c=a.authorName,o=e.data.image,s={bookName:n,description:r,authorName:c,fileName:o},(l=new FormData).append("picture",a.file[0]),l.append("name",e.data.image),t.next=10,fetch("http://localhost:5000/api/v1/settings/uploadFile",{method:"POST",body:l}).then(function(e){return e.json()});case 10:t.sent,h.a.put("http://localhost:5000/api/v1/settings/updateData/"+e.data.id,s).then(function(e){N()}).catch(function(e){return console.log(e)});case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),g="http://localhost:5000/images/"+e.data.image,E=function(){var t=Object(l.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.delete("http://localhost:5000/api/v1/settings/deleteData/"+e.data.id).then(function(e){N()}).catch(function(e){return console.log(e)});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();function N(){window.location.reload(!1)}return r.a.createElement("div",null,r.a.createElement("div",{className:"book-detail"},r.a.createElement("img",{src:g,alt:"Book cover",width:"auto",height:"290px"}),r.a.createElement("div",{className:"text-details"},r.a.createElement("h1",{className:"book-name"},e.data.name," "),r.a.createElement("p",null,e.data.description),r.a.createElement("div",{className:"btm-row"},r.a.createElement("h2",{className:"author-name"},e.data.author),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{class:"button-54 Add",role:"button",onClick:function(){return o(!0)}},"Update"),r.a.createElement(d,{trigger:c,setTrigger:o},r.a.createElement("form",{onSubmit:p(b),className:"dataInputForm"},r.a.createElement("input",Object.assign({className:"dataInputs",type:"text",defaultValue:e.data.name},m("bookName",{required:!0}))),r.a.createElement("textarea",Object.assign({style:{height:200},className:"dataInputs",type:"textare",defaultValue:e.data.description},m("description",{required:!0}))),r.a.createElement("input",Object.assign({className:"dataInputs",type:"text",defaultValue:e.data.author},m("authorName",{required:!0}))),r.a.createElement("input",Object.assign({className:"dataInputs",type:"file"},m("file"))),r.a.createElement("button",{type:"submit",className:"button-54 update"},"Submit"))),r.a.createElement("button",{onClick:function(){E()},type:"submit",className:"button-54 delete",role:"button"},"Delete"))))))};var g=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),s=Object(u.a)(o,2),m=s[0],p=s[1];Object(n.useEffect)(function(){g()},[]);var g=function(){var e=Object(l.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("http://localhost:5000/api/v1/settings/getBooks").then(function(e){p(e.data)}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),E=Object(f.a)(),N=E.register,v=E.handleSubmit,w=function(){var e=Object(l.a)(i.a.mark(function e(t){var a,n,r,c,o,s,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.bookName,n=t.description,r=t.authorName,c=t.file[0].name.split("."),o=Date.now()+"picture."+c[c.length-1],s={bookName:a,description:n,authorName:r,fileName:o},(l=new FormData).append("picture",t.file[0]),l.append("name",o),e.next=11,fetch("http://localhost:5000/api/v1/settings/uploadFile",{method:"POST",body:l}).then(function(e){return e.json()});case 11:return e.sent,console.log(l),e.next=15,h.a.post("http://localhost:5000/api/v1/settings/addBook",s).then(function(e){console.log("Posting data",e),alert("Form successfully submitted"),window.location.reload(!1)}).catch(function(e){return console.log(e)});case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return console.log(m),m.map(function(e){return console.log(e)}),r.a.createElement("div",{className:"App"},r.a.createElement("div",{id:"main",className:"container canvas"},r.a.createElement("div",{className:"top-row"},r.a.createElement("h1",{className:"display-6 title-text"},"Books "),r.a.createElement("div",{className:"search-box"},r.a.createElement("label",null,r.a.createElement("input",{type:"search",placeholder:"Search",required:!0}))),r.a.createElement("div",{className:"top-btns"},r.a.createElement("button",{class:"button-54 Add",role:"button",onClick:function(){return c(!0)}},"Add"),r.a.createElement(d,{trigger:a,setTrigger:c},r.a.createElement("form",{onSubmit:v(w),className:"dataInputForm"},r.a.createElement("input",Object.assign({className:"dataInputs",type:"text",placeholder:"Name"},N("bookName",{required:!0}))),r.a.createElement("textarea",Object.assign({className:"dataInputs textArea",type:"textare",placeholder:"Description"},N("description",{required:!0}))),r.a.createElement("input",Object.assign({className:"dataInputs",type:"text",placeholder:"Author"},N("authorName",{required:!0}))),r.a.createElement("input",Object.assign({className:"dataInputs",type:"file"},N("file"))),r.a.createElement("button",{type:"submit",className:"button-54 update"},"Submit"))))),m.map(function(e){return r.a.createElement(b,{data:e})})))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root"))}},[[42,2,1]]]);
//# sourceMappingURL=main.9bd30aa7.chunk.js.map