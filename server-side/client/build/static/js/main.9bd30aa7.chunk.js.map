{"version":3,"sources":["component/Popup.js","component/BookDetails.js","App.js","index.js"],"names":["Popup","props","trigger","react_default","a","createElement","className","onClick","setTrigger","Close_default","children","BookDetails","_useState","useState","_useState2","Object","slicedToArray","btnPopup","setPopupState","_useForm","useForm","register","handleSubmit","onSubmit","_ref","asyncToGenerator","regenerator_default","mark","_callee","data","bookName","description","authorName","fileName","inputData","formData","wrap","_context","prev","next","image","FormData","append","file","fetch","method","body","then","res","json","sent","axios","put","id","response","refreshPage","catch","err","console","log","stop","_x","apply","this","arguments","userPicture","deleteData","_ref2","_callee2","_context2","delete","window","location","reload","src","alt","width","height","name","author","class","role","component_Popup","assign","type","defaultValue","required","style","App","_useState3","_useState4","bookData","setBookData","useEffect","getBooks","get","words","split","Date","now","length","post","alert","map","e","placeholder","component_BookDetails","ReactDOM","render","StrictMode","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.9bd30aa7.chunk.js","sourcesContent":["import React from \"react\";\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport './../style/popup.css';\r\n\r\nfunction Popup(props) {\r\n  return props.trigger ? (\r\n    <div className=\"popup\">\r\n      <div className=\"popup-inner\">\r\n        <button className=\"close-btn\" onClick={() => props.setTrigger(false)}><CloseIcon/></button>\r\n        {props.children}\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    \"\"\r\n  );\r\n}\r\n\r\nexport default Popup;","import React, { Component, useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport \"../style/home.css\";\r\nimport \"../style/btn.css\";\r\nimport \"../style/search.css\";\r\nimport axios from \"axios\";\r\nimport Popup from \"./../component/Popup\";\r\n\r\n\r\nfunction BookDetails(props) {\r\n  const [btnPopup, setPopupState] = useState(false);\r\n\r\n    //form submitting\r\n    const { register, handleSubmit } = useForm();\r\n    const onSubmit = async (data) => {\r\n      const bookName = data.bookName;\r\n      const description = data.description;\r\n      const authorName = data.authorName;\r\n      const fileName = props.data.image;\r\n  \r\n      const inputData = {\r\n        bookName,\r\n        description,\r\n        authorName,\r\n        fileName\r\n      };\r\n  \r\n      const formData = new FormData();\r\n      formData.append(\"picture\", data.file[0]);\r\n      formData.append(\"name\", props.data.image);\r\n\r\n      \r\n      const res = await fetch(\"http://localhost:5000/api/v1/settings/uploadFile\", {\r\n        method: \"POST\",\r\n        body: formData\r\n      }).then(res => res.json())\r\n      \r\n  \r\n      axios\r\n        .put(\"http://localhost:5000/api/v1/settings/updateData/\" + props.data.id, inputData)\r\n        .then((response) => {\r\n          refreshPage();\r\n        }).catch((err) => console.log(err));\r\n      ;\r\n    };\r\n\r\n  const userPicture = \"http://localhost:5000/images/\" + props.data.image;\r\n\r\n  const deleteData = async () => {\r\n    await axios\r\n      .delete(\r\n        \"http://localhost:5000/api/v1/settings/deleteData/\" + props.data.id\r\n      )\r\n      .then((response) => {\r\n        refreshPage();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  function refreshPage() {\r\n    window.location.reload(false);\r\n  }\r\n  return (\r\n    <div>\r\n      {/* book details card */}\r\n      <div className=\"book-detail\">\r\n        <img\r\n          src={userPicture}\r\n          alt=\"Book cover\"\r\n          width=\"auto\"\r\n          height=\"290px\"\r\n        ></img>\r\n        <div className=\"text-details\">\r\n          <h1 className=\"book-name\">{props.data.name} </h1>\r\n          <p>{props.data.description}</p>\r\n          <div className=\"btm-row\">\r\n            <h2 className=\"author-name\">{props.data.author}</h2>\r\n            <div className=\"buttons\">\r\n              <button\r\n                class=\"button-54 Add\"\r\n                role=\"button\"\r\n                onClick={() => setPopupState(true)}\r\n              >\r\n                Update\r\n              </button>\r\n              <Popup trigger={btnPopup} setTrigger={setPopupState}>\r\n                <form\r\n                  onSubmit={handleSubmit(onSubmit)}\r\n                  className=\"dataInputForm\"\r\n                >\r\n                  <input\r\n                    className=\"dataInputs\"\r\n                    type=\"text\"\r\n                    defaultValue={props.data.name}\r\n                    {...register(\"bookName\", { required: true })}\r\n                  />\r\n                  <textarea\r\n                    style={{height:200}}\r\n                    className=\"dataInputs\"\r\n                    type=\"textare\"\r\n                    defaultValue={props.data.description}\r\n                    {...register(\"description\", { required: true })}\r\n                  />\r\n                  <input\r\n                    className=\"dataInputs\"\r\n                    type=\"text\"\r\n                    defaultValue={props.data.author}\r\n                    {...register(\"authorName\", { required: true })}\r\n                  />\r\n                  <input\r\n                    className=\"dataInputs\"\r\n                    type=\"file\"\r\n                    {...register(\"file\")}\r\n                  />\r\n                  <button type=\"submit\" className=\"button-54 update\">\r\n                    Submit\r\n                  </button>\r\n                </form>\r\n              </Popup>\r\n              <button\r\n                onClick={() => {\r\n                  deleteData();\r\n                }}\r\n                type=\"submit\"\r\n                className=\"button-54 delete\"\r\n                role=\"button\"\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookDetails;\r\n","import \"../src/style/home.css\";\r\nimport \"../src/style/btn.css\";\r\nimport \"../src/style/search.css\";\r\nimport Popup from \"./component/Popup\";\r\nimport React, { Component, useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport axios from \"axios\";\r\nimport BookDetails from \"./component/BookDetails\";\r\n\r\nfunction App() {\r\n  const [btnPopup, setPopupState] = useState(false);\r\n\r\n  //getting existing data\r\n  const [bookData,setBookData] = useState([]);\r\n  useEffect(() => {\r\n    getBooks();\r\n  },[]);\r\n\r\n  const getBooks = async () => {\r\n    await axios\r\n      .get(\"http://localhost:5000/api/v1/settings/getBooks\")\r\n      .then((response) => {\r\n        setBookData(response.data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  //form submitting\r\n  const { register, handleSubmit } = useForm();\r\n  const onSubmit = async (data) => {\r\n    const bookName = data.bookName;\r\n    const description = data.description;\r\n    const authorName = data.authorName;\r\n\r\n    const words = data.file[0].name.split('.');\r\n    var fileName = Date.now() +\"picture.\"+words[words.length-1];\r\n\r\n    const inputData = {\r\n      bookName,\r\n      description,\r\n      authorName,\r\n      fileName\r\n    };\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"picture\", data.file[0]);\r\n    formData.append(\"name\", fileName);\r\n\r\n    const res = await fetch(\"http://localhost:5000/api/v1/settings/uploadFile\", {\r\n      method: \"POST\",\r\n      body: formData\r\n    }).then(res => res.json())\r\n\r\n    console.log(formData);\r\n    \r\n\r\n    await axios\r\n    .post(\"http://localhost:5000/api/v1/settings/addBook\", inputData)\r\n    .then((response) => {\r\n      console.log('Posting data', response);\r\n      alert(\"Form successfully submitted\");\r\n      refreshPage();\r\n    }).catch((err) => console.log(err));\r\n  };\r\n\r\n  console.log(bookData);\r\n  bookData.map((e) => console.log(e));\r\n\r\n  function refreshPage() {\r\n    window.location.reload(false);\r\n  }\r\n  return (\r\n    <div className=\"App\">\r\n      <div id=\"main\" className=\"container canvas\">\r\n        <div className=\"top-row\">\r\n          <h1 className=\"display-6 title-text\">Books </h1>\r\n          <div className=\"search-box\">\r\n            <label>\r\n              <input type=\"search\" placeholder=\"Search\" required></input>\r\n            </label>\r\n          </div>\r\n          <div className=\"top-btns\">\r\n            <button\r\n              class=\"button-54 Add\"\r\n              role=\"button\"\r\n              onClick={() => setPopupState(true)}\r\n            >\r\n              Add\r\n            </button>\r\n            <Popup trigger={btnPopup} setTrigger={setPopupState}>\r\n              <form onSubmit={handleSubmit(onSubmit)} className=\"dataInputForm\">\r\n                <input\r\n                  className=\"dataInputs\"\r\n                  type=\"text\"\r\n                  placeholder=\"Name\"\r\n                  {...register(\"bookName\", { required: true })}\r\n                />\r\n                <textarea\r\n                  className=\"dataInputs textArea\"\r\n                  type=\"textare\"\r\n                  placeholder=\"Description\"\r\n                  {...register(\"description\", { required: true })}\r\n                />\r\n                <input\r\n                  className=\"dataInputs\"\r\n                  type=\"text\"\r\n                  placeholder=\"Author\"\r\n                  {...register(\"authorName\", { required: true })}\r\n                />\r\n                <input\r\n                  className=\"dataInputs\"\r\n                  type=\"file\"\r\n                  {...register(\"file\")}\r\n                />\r\n                <button type=\"submit\" className=\"button-54 update\">\r\n                  Submit\r\n                </button>\r\n              </form>\r\n            </Popup>\r\n          </div>\r\n        </div>\r\n\r\n        {bookData.map((e)=><BookDetails data={e}/>)}\r\n        \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}